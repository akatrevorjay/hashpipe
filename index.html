<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>hashpipe by jbenet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">#| hashpipe</h1>
      <h2 class="project-tagline">hashpipe - pipe iff the hash matches</h2>
      <a href="https://github.com/jbenet/hashpipe" class="btn">
        <i class="fa fa-github"></i> &nbsp; View on GitHub</a>
      <a href="https://gobuilder.me/github.com/jbenet/hashpipe" class="btn">
        <i class="fa fa-download"></i> &nbsp; Prebuilt Binaries</a>
    </section>
    <section class="main-content">
<p><code>hashpipe</code> helps you venture into the unknown. It reads from stdin, checks the hash of the content, and outputs it IF AND ONLY IF it matches the provided hash checksum. This makes executing things a teensy bit safer, as it requires compromising more communication channels.</p>

<iframe src="https://ghbtns.com/github-btn.html?user=jbenet&repo=hashpipe&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>

<p><code>&lt;&gt;</code> with <i class="fa fa-heart"></i> by <a href="https://twitter.com/juanbenet">@juanbenet</a></p>

<h2>Example</h2>

<pre><code class="sh">&gt; echo &quot;hello&quot; | multihash
QmUJPTFZnR2CPGAzmfdYPghgrFtYFB6pf1BqMvqfiPDam8
&gt; echo &quot;hello&quot; | hashpipe QmUJPTFZnR2CPGAzmfdYPghgrFtYFB6pf1BqMvqfiPDam8
hello
&gt; echo &quot;goodbye&quot; | hashpipe QmUJPTFZnR2CPGAzmfdYPghgrFtYFB6pf1BqMvqfiPDam8
error: multihash checksums did not match
</code></pre>

<h2>Use Case</h2>

<p>If you tell people to pipe things directly into the shell&hellip; Don&rsquo;t do that. If you&rsquo;re going to, <em>at least</em> provide them a hash to ensure that man-in-the-middle attacks or compromised CDNs do not hurt your users.</p>

<pre><code>curl http://you.shouldnt.be/doing/this | hashpipe Qmepk1VCHpjyCmWeh61vyDKsWfKymyrBQLcmUpXUdUd3yM | sh
</code></pre>

<h2>Hashes Supported</h2>

<p><code>hashpipe</code> uses <a href="https://github.com/jbenet/multihash/">multihash</a>, a self-describing hash function. It supports all the hashes in <a href="https://github.com/jbenet/go-multihash/">go-multihash</a>:</p>

<ul>
<li>sha1</li>
<li>sha2-256</li>
<li>sha2-512</li>
<li>sha3-256</li>
<li>sha3-512</li>
<li><a href="https://github.com/jbenet/go-multihash/pulls">add the one you need</a></li>
</ul>

<h2>Install</h2>

<ul>
<li><p>From source:</p>

<pre><code>go get github.com/jbenet/hashpipe
</code></pre></li>

<li><p>Pre-built binaries: <a href="https://gobuilder.me/github.com/jbenet/hashpipe">https://gobuilder.me/github.com/jbenet/hashpipe</a></p></li>
</ul>

<h2>Usage</h2>

<pre><code>&gt; hashpipe -h
usage: hashpipe [MULTIHASH] &lt;[FILE] &gt;[FILE]

    cat untrustedFile | hashpipe &lt;expected-checksum&gt; | trustedContext

hashpipe - boldly journey into the unknown.

It reads from stdin, checks the hash of the content, and outputs it IF AND
ONLY IF it matches the provided hash checksum. This makes executing things
a bit safer, as it requires compromising more communication channels. On
error, hashpipe returns a non-zero error code, failing pipelines.

OPTIONS
  -a=&quot;sha2-256&quot;: one of: sha1, sha2-256, sha2-512, sha3 (shorthand)
  -algorithm=&quot;sha2-256&quot;: one of: sha1, sha2-256, sha2-512, sha3
  -e=&quot;base58&quot;: one of: raw, hex, base58, base64 (shorthand)
  -encoding=&quot;base58&quot;: one of: raw, hex, base58, base64
  -l=-1: checksums length in bits (truncate). -1 is default (shorthand)
  -length=-1: checksums length in bits (truncate). -1 is default
  -q=false: quiet output (no newline on checksum, no error text) (shorthand)
  -quiet=false: quiet output (no newline on checksum, no error text)
</code></pre>
      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jbenet/hashpipe">hashpipe</a> is maintained by <a href="https://github.com/jbenet">jbenet</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>


  </body>
</html>
